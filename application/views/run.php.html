<?php

  $stylesheet = "run";
  include("views/header.php.html");
  
?>
  <div id="rubrik">Siffror</div>
  <div id="top"></div>

    <div id="bilder">
	  <div id="resultat"></div>
	</div>
	
	<input type="submit" value="R채tta">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
    <script src="http://code.jquery.com/ui/1.10.0/jquery-ui.js"></script>
    <script>
	var bilder = [{file: "http://august.friskola.nu/uploads/123456/1.png", id: "bild1"},
	              {file: "http://august.friskola.nu/uploads/123456/2.png", id: "bild2"},
				  {file: "http://august.friskola.nu/uploads/123456/3.png", id: "bild3"},
				  {file: "http://august.friskola.nu/uploads/123456/4.png", id: "bild4"},
				  {file: "http://august.friskola.nu/uploads/123456/5.png", id: "bild5"},
				  {file: "http://august.friskola.nu/uploads/123456/6.png", id: "bild6"}];
	
	for (var i=0; i<bilder.length; i++){
	  $('#top').append('<div class="svar" id="svar' +i+ '"></div>');
	}
	
	function shuffleArray(array) 
    {
      for (var i = array.length - 1; i > 0; i--){
        var j = Math.floor(Math.random() * (i + 1));
        var temp = array[i];
        array[i] = array[j];
        array[j] = temp;
      }
      return array;
    }
  
  
  var blandadeBilder = shuffleArray(bilder);

  for (var i=0; i<blandadeBilder.length; i++){
	
      $('#bilder').append('<img src="' +bilder[i].file+ '" id="' +bilder[i].id+'" />');

  }
  
   var bredd =  90/bilder.length;

   $(".svar").css("width", bredd +"%");		
   $("img").css("width", bredd +"%");
   
   $(".svar").css("height", $(".svar").css("width")); //should be the height of the image  
	
    $(function() {
      $( "img" ).draggable({ snap: ".svar", snapMode: "inner", containment: "#top"});
      $( ".svar" ).droppable({
        drop: function( event, ui )
	    {
	      answers [this.id]=ui.draggable.attr("id");
	    }
      });
    });
	
    var answers = {};
    var facit = {svar0:"bild1", svar1:"bild2", svar2:"bild3", svar3:"bild4", svar4: "bild5", svar5: "bild6"};
  
    $("input[type=submit]").click(function(){
      function checkAnswers(){
      
	    allCorrect = true;

        for (question in facit)
          if (facit[question] != answers[question])
		  {
            allCorrect = false;
			$("#"+question).css("outline", "2px dashed red");
          }
		  else
		  {
            $("#"+question).css("outline", "2px dashed green");
          }
		  
        return allCorrect;
      }
      
	  if (checkAnswers = true)
		  $("#resultat").append("Alla svaren st채mmer!");
	  else
		  $("#resultat").append("N책got av svaren st채mmer inte.");
		  
      alert(checkAnswers());
	  
	});
    </script>
  </body>
</html>